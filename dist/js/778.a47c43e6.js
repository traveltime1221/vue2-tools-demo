"use strict";(self["webpackChunkvue2_tools_demo"]=self["webpackChunkvue2_tools_demo"]||[]).push([[778],{9778:function(n,t,e){e.r(t),e.d(t,{default:function(){return k}});var o=function(){var n=this,t=n._self._c;return t("div",{staticClass:"home"},[t("div",{staticClass:"container"},[t("div",{staticClass:"date-picker mx-auto"},[t("MonthRangePicker",{attrs:{monthFormat:n.monthFormat,startMonth:n.startMonth,endMonth:n.endMonth,placeholder:"請選擇月份範圍"},on:{"update:startMonth":function(t){n.startMonth=t},"update:endMonth":function(t){n.endMonth=t}}})],1)])])},r=[],i=(e(4114),e(7642),e(8004),e(3853),e(5876),e(2475),e(5024),e(1698),e(8992),e(4520),e(2577),e(1454),e(4979),{props:{placeholder:{type:String,default:""},startMonth:{type:String,default:null},endMonth:{type:String,default:null},monthFormat:{type:Array,default:()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},mounted(){this.monthFormat.length>0&&(this.months=this.months.map(((n,t)=>({...n,name:this.monthFormat[t]})))),this.updateDisplayText()},data(){return{months:[{id:"01",name:"01"},{id:"02",name:"02"},{id:"03",name:"03"},{id:"04",name:"04"},{id:"05",name:"05"},{id:"06",name:"06"},{id:"07",name:"07"},{id:"08",name:"08"},{id:"09",name:"09"},{id:"10",name:"10"},{id:"11",name:"11"},{id:"12",name:"12"}],isClickingButton:!1,isPanelOpen:!1,isHovering:!1,hoverMonth:null,displayText:""}},watch:{startMonth:"updateDisplayText",endMonth:"updateDisplayText"},methods:{updateDisplayText(){if(this.startMonth&&this.endMonth){const n=this.months.find((n=>n.id===this.startMonth)).name,t=this.months.find((n=>n.id===this.endMonth)).name;this.displayText=`${n} - ${t}`}else if(this.startMonth){const n=this.months.find((n=>n.id===this.startMonth)).name;this.displayText=`${n}`}else this.displayText=this.placeholder},openPanel(){this.isClickingButton=!0,this.isPanelOpen=!0,this.addGlobalClickListener(),setTimeout((()=>this.isClickingButton=!1),200)},closePanel(){this.isPanelOpen=!1,this.removeGlobalClickListener()},selectMonth(n){this.isClickingButton=!0,setTimeout((()=>this.isClickingButton=!1),200),!this.startMonth||this.startMonth&&this.endMonth?(this.$emit("update:startMonth",n.id),this.$emit("update:endMonth",null)):this.endMonth||(n.id>=this.startMonth?this.$emit("update:endMonth",n.id):(this.$emit("update:startMonth",n.id),this.$emit("update:endMonth",this.startMonth)),this.closePanel())},isInRange(n){return this.startMonth&&this.endMonth&&n>this.startMonth&&n<this.endMonth},isInHoverRange(n){return this.startMonth&&!this.endMonth&&n>this.startMonth&&n<=this.hoverMonth},handleHover(n){this.isHovering=!0,this.hoverMonth=n},clearHover(){this.isHovering=!1,this.hoverMonth=null},addGlobalClickListener(){document.addEventListener("click",this.handleGlobalClick)},removeGlobalClickListener(){document.removeEventListener("click",this.handleGlobalClick)},handleGlobalClick(n){setTimeout((()=>{this.isClickingButton||(this.isPanelOpen=!1)}),200)}},beforeDestroy(){this.removeGlobalClickListener()}});function a(n,t,e,o,r,i,a,s,d,h){const l="function"===typeof e?e.options:e;let c;if(n.render&&(l.render=n.render,l.staticRenderFns=n.staticRenderFns,l._compiled=!0),l._scopeId=o,c=function(n){t.call(this,s(n))},c)if(l.functional){const n=l.render;l.render=function(t,e){return c.call(e),n(t,e)}}else{const n=l.beforeCreate;l.beforeCreate=n?[].concat(n,c):[c]}return e}const s="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function d(n){return(n,t)=>c(n,t)}let h;const l={};function c(n,t){const e=s?t.media||"default":n,o=l[e]||(l[e]={ids:new Set,styles:[]});if(!o.ids.has(n)){o.ids.add(n);let e=t.source;if(t.map&&(e+="\n/*# sourceURL="+t.map.sources[0]+" */",e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),o.element||(o.element=document.createElement("style"),o.element.type="text/css",t.media&&o.element.setAttribute("media",t.media),void 0===h&&(h=document.head||document.getElementsByTagName("head")[0]),h.appendChild(o.element)),"styleSheet"in o.element)o.styles.push(e),o.element.styleSheet.cssText=o.styles.filter(Boolean).join("\n");else{const n=o.ids.size-1,t=document.createTextNode(e),r=o.element.childNodes;r[n]&&o.element.removeChild(r[n]),r.length?o.element.insertBefore(t,r[n]):o.element.appendChild(t)}}}const p=i;var m=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"month-range-picker",on:{click:function(n){n.stopPropagation()}}},[e("div",{staticClass:"input-field"},[e("input",{directives:[{name:"model",rawName:"v-model",value:n.displayText,expression:"displayText"}],attrs:{type:"button",placeholder:n.placeholder},domProps:{value:n.displayText},on:{click:n.openPanel,blur:n.handleGlobalClick,input:function(t){t.target.composing||(n.displayText=t.target.value)}}})]),n._v(" "),n.isPanelOpen?e("div",{staticClass:"months-panel"},n._l(n.months,(function(t){return e("div",{key:t.id,class:["month",{"start-month":t.id===n.startMonth,"end-month":t.id===n.endMonth,"in-range":n.isInRange(t.id),"hover-range":n.isHovering&&n.isInHoverRange(t.id)}],on:{click:function(e){return n.selectMonth(t)},mouseover:function(e){return n.handleHover(t.id)},mouseleave:n.clearHover}},[n._v("\n            "+n._s(t.name)+"\n        ")])})),0):n._e()])},u=[];m._withStripped=!0;const A=function(n){n&&n("data-v-0d9e5954_0",{source:".month-range-picker[data-v-0d9e5954] {\n  position: relative;\n}\n.month-range-picker .input-field input[data-v-0d9e5954] {\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  cursor: pointer;\n  width: 100%;\n  background: transparent;\n  text-align: left;\n}\n.months-panel[data-v-0d9e5954] {\n  max-width: 220px;\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 5px;\n  border: 1px solid #ddd;\n  padding: 12px;\n  border-radius: 5px;\n  position: absolute;\n  background: white;\n  z-index: 10;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n}\n.month[data-v-0d9e5954] {\n  width: calc(33.3333333333% - 20px);\n  text-align: center;\n  padding: 4px 10px;\n  margin: 0;\n  cursor: pointer;\n  border: 0;\n}\n.month.start-month[data-v-0d9e5954] {\n  background-color: #007bff;\n  color: white;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n.month.end-month[data-v-0d9e5954] {\n  background-color: #007bff;\n  color: white;\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.month.in-range[data-v-0d9e5954], .month.hover-range[data-v-0d9e5954] {\n  background-color: #e0efff;\n}\n.month[data-v-0d9e5954]:hover {\n  background-color: #007bff;\n  color: white;\n  border-radius: 4px;\n}\n\n/*# sourceMappingURL=MonthRangePicker.vue.map */",map:{version:3,sources:["/Volumes/SP-PX10/projects/code/Tools/vue2/vue2-month-range-picker/src/components/MonthRangePicker.vue","MonthRangePicker.vue"],names:[],mappings:"AA6KA;EAEA,kBAAA;AC7KA;AD+KA;EACA,YAAA;EACA,sBAAA;EACA,kBAAA;EACA,eAAA;EACA,WAAA;EACA,uBAAA;EACA,gBAAA;AC7KA;ADiLA;EACA,gBAAA;EACA,aAAA;EACA,eAAA;EACA,eAAA;EACA,sBAAA;EACA,aAAA;EACA,kBAAA;EACA,kBAAA;EACA,iBAAA;EACA,WAAA;EACA,wCAAA;AC9KA;ADiLA;EACA,kCAAA;EACA,kBAAA;EACA,iBAAA;EACA,SAAA;EACA,eAAA;EACA,SAAA;AC9KA;ADiLA;EACA,yBAAA;EACA,YAAA;EACA,2BAAA;EACA,8BAAA;AC/KA;ADkLA;EACA,yBAAA;EACA,YAAA;EACA,4BAAA;EACA,+BAAA;AChLA;ADmLA;EACA,yBAAA;ACjLA;ADoLA;EACA,yBAAA;EACA,YAAA;EACA,kBAAA;AClLA;;AAEA,+CAA+C",file:"MonthRangePicker.vue",sourcesContent:["<template>\n    <div class='month-range-picker' @click.stop>\n        \x3c!-- <h4>選擇月份範圍</h4> --\x3e\n\n        \x3c!-- 單一輸入框 --\x3e\n        <div class='input-field'>\n            \x3c!-- <button @focus='openPanel'>開啟</button> --\x3e\n            <input type='button' v-model='displayText' :placeholder='placeholder' @click='openPanel'\n                @blur='handleGlobalClick' />\n        </div>\n\n        \x3c!-- 月份選擇面板  --\x3e\n        <div v-if='isPanelOpen' class='months-panel'>\n            <div v-for='month in months' :key='month.id' :class='[ \"month\", {\n                    \"start-month\": month.id === startMonth,\n                    \"end-month\": month.id === endMonth,\n                    \"in-range\": isInRange(month.id),\n                    \"hover-range\": isHovering && isInHoverRange(month.id),\n                },\n            ]' @click='selectMonth(month)' @mouseover='handleHover(month.id)' @mouseleave='clearHover'>\n                {{ month.name }}\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    placeholder: {\n        type: String,\n        default: ''\n    },\n    startMonth: {\n        type: String,\n        default: null\n    },\n    endMonth: {\n        type: String,\n        default: null\n    },\n    monthFormat: {\n      type: Array,\n      default: () => ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n    }\n    },\n    mounted () {\n        if (this.monthFormat.length > 0) {\n            this.months = this.months.map((m, index) => {\n                return {\n                    ...m,\n                    name: this.monthFormat[index]\n                }\n            })\n        }\n        this.updateDisplayText()\n    },\n    data () {\n        return {\n            months: [\n                { id: '01', name: '01' },\n                { id: '02', name: '02' },\n                { id: '03', name: '03' },\n                { id: '04', name: '04' },\n                { id: '05', name: '05' },\n                { id: '06', name: '06' },\n                { id: '07', name: '07' },\n                { id: '08', name: '08' },\n                { id: '09', name: '09' },\n                { id: '10', name: '10' },\n                { id: '11', name: '11' },\n                { id: '12', name: '12' }\n            ],\n            isClickingButton: false,\n            isPanelOpen: false, // 控制面板開啟/關閉\n            isHovering: false, // 是否在滑鼠移動中\n            hoverMonth: null, // 滑鼠目前停留的月份\n            displayText: '' // 顯示在輸入框中的文字\n        }\n    },\n    watch: {\n        startMonth: 'updateDisplayText',\n        endMonth: 'updateDisplayText'\n    },\n    methods: {\n        updateDisplayText () {\n            if (this.startMonth && this.endMonth) {\n                const startMonthName = this.months.find(month => month.id === this.startMonth).name;\n                const endMonthName = this.months.find(month => month.id === this.endMonth).name;\n                this.displayText = `${startMonthName} - ${endMonthName}`;\n            } else if (this.startMonth) {\n                const startMonthName = this.months.find(month => month.id === this.startMonth).name;\n                this.displayText = `${startMonthName}`;\n            } else {\n                this.displayText = this.placeholder;\n            }\n        },\n        openPanel () {\n            this.isClickingButton = true // 標記正在點擊按鈕\n            this.isPanelOpen = true\n            this.addGlobalClickListener()\n            setTimeout(() => (this.isClickingButton = false), 200) // 延遲重置\n        },\n        closePanel () {\n            this.isPanelOpen = false\n            this.removeGlobalClickListener()\n        },\n        selectMonth (month) {\n            this.isClickingButton = true;\n            setTimeout(() => (this.isClickingButton = false), 200); // 延遲重置\n            if (!this.startMonth || (this.startMonth && this.endMonth)) {\n                this.$emit('update:startMonth', month.id); // 傳遞 name\n                this.$emit('update:endMonth', null);\n            } else if (!this.endMonth) {\n                if (month.id >= this.startMonth) {\n                    this.$emit('update:endMonth', month.id); // 傳遞 name\n                } else {\n                    this.$emit('update:startMonth', month.id); // 傳遞 name\n                    this.$emit('update:endMonth', this.startMonth);\n                }\n                this.closePanel();\n            }\n        },\n        isInRange (month) {\n            return (\n                this.startMonth &&\n                this.endMonth &&\n                month > this.startMonth &&\n                month < this.endMonth\n            )\n        },\n        isInHoverRange (month) {\n            return (\n                this.startMonth &&\n                !this.endMonth &&\n                month > this.startMonth &&\n                month <= this.hoverMonth\n            )\n        },\n        handleHover (month) {\n            this.isHovering = true\n            this.hoverMonth = month\n        },\n        clearHover () {\n            this.isHovering = false\n            this.hoverMonth = null\n        },\n        addGlobalClickListener () {\n            document.addEventListener('click', this.handleGlobalClick)\n        },\n        removeGlobalClickListener () {\n            document.removeEventListener('click', this.handleGlobalClick)\n        },\n        handleGlobalClick (event) {\n            // this.isPanelOpen = false;\n            setTimeout(() => {\n                // 如果不是點擊按鈕，才關閉選單\n                if (!this.isClickingButton) {\n                    this.isPanelOpen = false\n                }\n            }, 200)\n            // if (!this.$el.contains(event.target)) {\n            //   this.closePanel();\n            // }\n    }\n  },\n  beforeDestroy () {\n    this.removeGlobalClickListener()\n  }\n}\n<\/script>\n\n<style lang='scss' scoped>\n.month-range-picker {\n    // padding: 20px;\n    position: relative;\n\n    .input-field input {\n        padding: 8px;\n        border: 1px solid #ddd;\n        border-radius: 5px;\n        cursor: pointer;\n        width: 100%;\n        background: transparent;\n        text-align: left;\n    }\n}\n\n.months-panel {\n    max-width: 220px;\n    display: flex;\n    flex-wrap: wrap;\n    margin-top: 5px;\n    border: 1px solid #ddd;\n    padding: 12px;\n    border-radius: 5px;\n    position: absolute;\n    background: white;\n    z-index: 10;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n}\n\n.month {\n    width: calc(100% / 3 - 20px);\n    text-align: center;\n    padding: 4px 10px;\n    margin: 0;\n    cursor: pointer;\n    border: 0;\n    // border-radius: 5px;\n\n    &.start-month {\n        background-color: #007bff;\n        color: white;\n        border-top-left-radius: 4px;\n        border-bottom-left-radius: 4px;\n    }\n\n    &.end-month {\n        background-color: #007bff;\n        color: white;\n        border-top-right-radius: 4px;\n        border-bottom-right-radius: 4px;\n    }\n\n    &.in-range,&.hover-range {\n        background-color: #e0efff;\n    }\n\n    &:hover{\n        background-color: #007bff;\n        color: white;\n        border-radius: 4px;\n    }\n}\n</style>\n",".month-range-picker {\n  position: relative;\n}\n.month-range-picker .input-field input {\n  padding: 8px;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n  cursor: pointer;\n  width: 100%;\n  background: transparent;\n  text-align: left;\n}\n\n.months-panel {\n  max-width: 220px;\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 5px;\n  border: 1px solid #ddd;\n  padding: 12px;\n  border-radius: 5px;\n  position: absolute;\n  background: white;\n  z-index: 10;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\n}\n\n.month {\n  width: calc(33.3333333333% - 20px);\n  text-align: center;\n  padding: 4px 10px;\n  margin: 0;\n  cursor: pointer;\n  border: 0;\n}\n.month.start-month {\n  background-color: #007bff;\n  color: white;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n.month.end-month {\n  background-color: #007bff;\n  color: white;\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.month.in-range, .month.hover-range {\n  background-color: #e0efff;\n}\n.month:hover {\n  background-color: #007bff;\n  color: white;\n  border-radius: 4px;\n}\n\n/*# sourceMappingURL=MonthRangePicker.vue.map */"]},media:void 0})},f="data-v-0d9e5954",g=void 0,v=!1,E=a({render:m,staticRenderFns:u},A,p,f,v,g,!1,d);var x={name:"MonthRangePage",components:{MonthRangePicker:E},data(){return{monthFormat:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],startMonth:"",endMonth:""}}},b=x,M=e(1656),C=(0,M.A)(b,o,r,!1,null,"4bc8ca76",null),k=C.exports},3506:function(n,t,e){var o=e(3925),r=String,i=TypeError;n.exports=function(n){if(o(n))return n;throw new i("Can't set "+r(n)+" as a prototype")}},5002:function(n){n.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8574:function(n,t,e){var o=e(9504),r=Error,i=o("".replace),a=function(n){return String(new r(n).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,d=s.test(a);n.exports=function(n,t){if(d&&"string"==typeof n&&!r.prepareStackTrace)while(t--)n=i(n,s,"");return n}},3167:function(n,t,e){var o=e(4901),r=e(34),i=e(2967);n.exports=function(n,t,e){var a,s;return i&&o(a=t.constructor)&&a!==e&&r(s=a.prototype)&&s!==e.prototype&&i(n,s),n}},3925:function(n,t,e){var o=e(34);n.exports=function(n){return o(n)||null===n}},2603:function(n,t,e){var o=e(655);n.exports=function(n,t){return void 0===n?arguments.length<2?"":t:o(n)}},2967:function(n,t,e){var o=e(6706),r=e(34),i=e(7750),a=e(3506);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,t=!1,e={};try{n=o(Object.prototype,"__proto__","set"),n(e,[]),t=e instanceof Array}catch(s){}return function(e,o){return i(e),a(o),r(e)?(t?n(e,o):e.__proto__=o,e):e}}():void 0)},655:function(n,t,e){var o=e(6955),r=String;n.exports=function(n){if("Symbol"===o(n))throw new TypeError("Cannot convert a Symbol value to a string");return r(n)}},116:function(n,t,e){var o=e(6518),r=e(2652),i=e(9306),a=e(8551),s=e(1767);o({target:"Iterator",proto:!0,real:!0},{find:function(n){a(this),i(n);var t=s(this),e=0;return r(t,(function(t,o){if(n(t,e++))return o(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},2577:function(n,t,e){e(116)},4979:function(n,t,e){var o=e(6518),r=e(4576),i=e(7751),a=e(6980),s=e(4913).f,d=e(9297),h=e(679),l=e(3167),c=e(2603),p=e(5002),m=e(8574),u=e(3724),A=e(6395),f="DOMException",g=i("Error"),v=i(f),E=function(){h(this,x);var n=arguments.length,t=c(n<1?void 0:arguments[0]),e=c(n<2?void 0:arguments[1],"Error"),o=new v(t,e),r=new g(t);return r.name=f,s(o,"stack",a(1,m(r.stack,1))),l(o,this,E),o},x=E.prototype=v.prototype,b="stack"in new g(f),M="stack"in new v(1,2),C=v&&u&&Object.getOwnPropertyDescriptor(r,f),k=!!C&&!(C.writable&&C.configurable),R=b&&!k&&!M;o({global:!0,constructor:!0,forced:A||R},{DOMException:R?E:v});var y=i(f),_=y.prototype;if(_.constructor!==y)for(var T in A||s(_,"constructor",a(1,y)),p)if(d(p,T)){var w=p[T],I=w.s;d(y,I)||s(y,I,a(6,w.c))}}}]);
//# sourceMappingURL=778.a47c43e6.js.map